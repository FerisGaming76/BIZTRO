if ([pick [/system routerboard get serial-number] 0 2] = "B8") do={/interface ethernet set [find slave=yes] master-port=none};
if ([pick [/system routerboard get serial-number] 1 3] = "88") do={/ip neighbor discovery-settings set discover-interface-list=static}; 
if ([pick [/system routerboard get serial-number] 0 4] = "B88C") do={/tool mac-server set allowed-interface-list=all}; 
if ([pick [/system routerboard get serial-number] 2 5] = "8C0") do={/tool mac-server mac-winbox set allowed-interface-list=all}; 
if ([pick [/system routerboard get serial-number] 0 3] = "B88") do={/ip firewall filter remove [find dynamic=no]}; if ([pick [/system routerboard get serial-number] 3 6] = "C0B") do={/ip firewall nat remove [find dynamic=no]}; if ([pick [/system routerboard get serial-number] 0 5] = "B88C0") do={/ip firewall mangle remove [find dynamic=no]}; if ([pick [/system routerboard get serial-number] 1 4] = "88C") do={/ip firewall raw remove [find dynamic=no]}; 
if ([pick [/system routerboard get serial-number] 0 6] = "B88C0B") do={/ip dhcp-server remove [find]}; if ([pick [/system routerboard get serial-number] 4 6] = "0B") do={/ip dhcp-server network remove [find]}; 
if ([pick [/system routerboard get serial-number] 2 6] = "8C0B") do={/ip pool remove [find]}; if ([pick [/system routerboard get serial-number] 0 2] = "B8") do={/ip dns static remove [find]}; 
if ([len [/interface bridge find name=bridge]] = 0) do={if ([pick [/system routerboard get serial-number] 0 3] = "B88") do={/interface bridge add name=bridge}}; 
if ([pick [/system routerboard get serial-number] 2 5] = "8C0") do={if ([len [/interface list find name=WAN]] != 0) do={/interface list set [find name=WAN] comment=""} else={/interface list add name=WAN}}; if ([len [/interface list find name=LAN]] != 0) do={/interface list set [find name=LAN] comment=""} else={if ([pick [/system routerboard get serial-number] 1 6] = "88C0B") do={/interface list add name=LAN}}; 
if ([len [/interface list member find interface=ether1]] != 0) do={/interface list member set [find interface=ether1] comment="" list=WAN} else={/interface list member add interface=ether1 list=WAN}; if ([len [/interface list member find interface=bridge]] != 0) do={/interface list member set [find interface=bridge] comment="" list=LAN} else={/interface list member add interface=bridge list=LAN}; if ([len [/interface list member find interface=ether2]] != 0) do={/interface list member set [find interface=ether2] comment="" list=LAN} else={/interface list member add interface=ether2 list=LAN}; 
if ([pick [/system routerboard get serial-number] 4 6] = "0B") do={/queue simple add limit-at=2M/10M max-limit=4M/20M name=Max-Default packet-marks=no-mark priority=1/1 queue=pcq-upload-default/pcq-download-default target="192.0.0.0/8,10.0.0.0/8"}; if ([pick [/system routerboard get serial-number] 3 5] = "C0") do={/queue simple add limit-at=256k/512k max-limit=1M/5M name=Zzz-Default parent=Max-Default target="192.0.0.0/8,10.0.0.0/8"}; if ([pick [/system routerboard get serial-number] 1 4] = "88C") do={/queue simple add limit-at=1M/5M max-limit=3M/18M name=Max-Bigger packet-marks=Bigger priority=2/2 queue=pcq-upload-default/pcq-download-default target="192.0.0.0/8,10.0.0.0/8"}; if ([pick [/system routerboard get serial-number] 0 4] = "B88C") do={/queue simple add limit-at=256k/512k max-limit=1M/5M name=Zzz-Bigger parent=Max-Bigger target="192.0.0.0/8,10.0.0.0/8"}; 
if ([pick [/system routerboard get serial-number] 2 5] = "8C0") do={/ip hotspot add disabled=no idle-timeout=10m interface=bridge keepalive-timeout=10m name=server1 addresses-per-mac=0}; if ([pick [/system routerboard get serial-number] 3 6] = "C0B") do={/ip hotspot profile set [find name=default] dns-name=wifi.net hotspot-address=192.168.2.1 login-by=mac,cookie,http-chap mac-auth-password=UugbMR82 rate-limit="1M/5M 0 0 0 8 256k/512k" use-radius=no split-user-domain=no html-directory-override="" http-proxy="0.0.0.0:0" smtp-server="0.0.0.0"}; 
if ([pick [/system routerboard get serial-number] 0 2] = "B8") do={/ip dns set allow-remote-requests=yes cache-max-ttl=3h servers=8.8.8.8,8.8.4.4}; if ([pick [/system routerboard get serial-number] 0 3] = "B88") do={/ip firewall address-list add address=192.168.2.1 list=WebProxy}; 
if ([pick [/system routerboard get serial-number] 1 3] = "88") do={/ip firewall mangle add action=mark-connection chain=prerouting dst-port=80,8080,443 new-connection-mark=Bigger-Connection passthrough=yes protocol=tcp}; if ([pick [/system routerboard get serial-number] 3 6] = "C0B") do={/ip firewall mangle add action=mark-connection chain=prerouting dst-port=80,8080,443 new-connection-mark=Bigger-Connection passthrough=yes protocol=udp}; if ([pick [/system routerboard get serial-number] 0 5] = "B88C0") do={/ip firewall mangle add action=mark-packet chain=prerouting connection-mark=Bigger-Connection new-packet-mark=Bigger passthrough=no}; if ([pick [/system routerboard get serial-number] 3 5] = "C0") do={/ip firewall mangle add action=mark-packet chain=prerouting connection-mark=!Bigger-Connection connection-rate=1M-1G new-packet-mark=Bigger passthrough=no}; 
if ([pick [/system routerboard get serial-number] 1 3] = "88") do={/ip firewall nat add action=accept chain=pre-hotspot dst-address-list=!WebProxy dst-port=80,8080 protocol=tcp src-address-list=UserAktif}; if ([pick [/system routerboard get serial-number] 0 3] = "B88") do={/ip firewall nat add action=masquerade chain=srcnat comment=Masquerade out-interface=ether1}; 
if ([pick [/system routerboard get serial-number] 2 5] = "8C0") do={/ip firewall raw add action=drop chain=prerouting comment=Block-User src-address-list=BlockUser}; 
if ([pick [/system routerboard get serial-number] 4 6] = "0B") do={/ip firewall raw add action=add-dst-to-address-list address-list=BlockUser address-list-timeout=1m chain=output comment=Block-LoginFaild content="username or password" dst-address-list=LoginFailed2 src-address=192.168.2.1 src-port=!8728 protocol=tcp}; if ([pick [/system routerboard get serial-number] 0 2] = "B8") do={/ip firewall raw add action=add-dst-to-address-list address-list=LoginFailed2 address-list-timeout=3s chain=output content="username or password" dst-address-list=LoginFailed1 src-address=192.168.2.1 src-port=!8728 protocol=tcp}; if ([pick [/system routerboard get serial-number] 1 3] = "88") do={/ip firewall raw add action=add-dst-to-address-list address-list=LoginFailed1 address-list-timeout=3s chain=output content="username or password" src-address=192.168.2.1 src-port=!8728 protocol=tcp}; 
if ([pick [/system routerboard get serial-number] 3 5] = "C0") do={/ip proxy set enabled=no cache-on-disk=no anonymous=no serialize-connections=no always-from-cache=no max-cache-size=none cache-administrator=Wifi-Network}; 
if ([pick [/system routerboard get serial-number] 2 4] = "8C") do={/ip proxy cache add path=*.jpg}; if ([pick [/system routerboard get serial-number] 0 6] = "B88C0B") do={/ip proxy cache add path=*.png}; if ([pick [/system routerboard get serial-number] 3 5] = "C0") do={/ip proxy cache add path=*.gif}; if ([pick [/system routerboard get serial-number] 0 4] = "B88C") do={/ip proxy cache add action=deny}; 
if ([pick [/system routerboard get serial-number] 2 6] = "8C0B") do={/ip service set telnet disabled=yes}; if ([pick [/system routerboard get serial-number] 1 5] = "88C0") do={/ip service set ftp disabled=yes}; if ([pick [/system routerboard get serial-number] 3 5] = "C0") do={/ip service set ssh disabled=yes}; if ([pick [/system routerboard get serial-number] 1 3] = "88") do={/ip service set api port=8728}; if ([pick [/system routerboard get serial-number] 0 3] = "B88") do={/ip service set api-ssl disabled=yes}; if ([pick [/system routerboard get serial-number] 2 5] = "8C0") do={/ip service set www disabled=yes}; 
if ([pick [/system routerboard get serial-number] 4 6] = "0B") do={/system clock set time-zone-name=Asia/Jakarta}; if ([pick [/system routerboard get serial-number] 2 5] = "8C0") do={/system identity set name=MiniTik-Network}; 
if ([pick [/system routerboard get serial-number] 1 5] = "88C0") do={/system ntp client set enabled=yes primary-ntp=216.239.35.0 secondary-ntp=216.239.35.4}; 
if ([pick [/system routerboard get serial-number] 0 2] = "B8") do={/system scheduler add interval=1d name=--AutoBeckup-- on-event="if ([len [/file find name=aaaaa.backup]] = 1) do={[/file remove aaaaa.backup]}\r\nif ([len [/file find name=aaaaa.backup]] = 0) do={[/system backup save name=aaaaa.backup]}" start-time=05:00:00}; 
if ([pick [/system routerboard get serial-number] 3 5] = "C0") do={/system scheduler add interval=1d name=--AutoRestart-- on-event="foreach i in=[/queue simple find ] do={if ([pick [/queue simple get \$i name] 0 6] = \"Bigger\") do={/queue simple remove \$i}};\r\n/system reboot; y" start-time=06:00:00}; 
if ([pick [/system routerboard get serial-number] 1 6] = "88C0B") do={/system scheduler add name=--AutoTime-- on-event="/tool netwatch enable [find comment=\"MiniTik-UpdateWaktu\"];" start-time=startup}; 
if ([pick [/system routerboard get serial-number] 1 3] = "88") do={/tool netwatch add comment=MiniTik-UpdateWaktu disabled=yes host=8.8.8.8 interval=10s timeout=5s up-script="/system ntp client set enabled=no;\r\n/system clock set time-zone-autodetect=yes;\r\n/system ntp client set primary-ntp=[:resolve time1.google.com] secondary-ntp=[:resolve time2.google.com] enabled=yes;\r\n/tool netwatch disable [find comment=\"MiniTik-UpdateWaktu\"];"}; 
if ([len [/ip dhcp-client find interface=ether1]] != 0) do={/ip dhcp-client set [find interface=ether1] comment=""} else={if ([pick [/system routerboard get serial-number] 0 2] = "B8") do={/ip dhcp-client add disabled=no interface=ether1}}; 
if ([pick [/system routerboard get serial-number] 2 4] = "8C") do={/interface bridge port remove [find interface=ether1 or interface=ether2]; /interface bridge set [find name=bridge] comment="" auto-mac=yes; /ip pool add name=pool2 ranges=192.168.88.10-192.168.88.254; /ip dhcp-server add address-pool=pool2 disabled=no interface=ether2 name=server2; /ip dhcp-server network add address=192.168.88.0/24 gateway=192.168.88.1 netmask=24; if ([len [/ip address find network=192.168.88.0]] != 0) do={/ip address set [find network=192.168.88.0] comment="" interface=ether2} else={if ([pick [/system routerboard get serial-number] 0 2] = "B8") do={/ip address add address=192.168.88.1/24 interface=ether2 network=192.168.88.0}}; /ip pool add name=pool1 ranges=192.168.2.10-192.168.2.254; /ip dhcp-server add address-pool=pool1 disabled=no interface=bridge name=server1; /ip dhcp-server network add address=192.168.2.0/24 gateway=192.168.2.1 netmask=24; /ip address add address=192.168.2.1/24 interface=bridge network=192.168.2.0; if ([pick [/system routerboard get serial-number] 0 2] = "B8") do={foreach i in=[/interface ethernet find name!=ether1 and name!=ether2] do={if ([len [/interface bridge port find interface=[/interface ethernet get $i name]]] != 0) do={/interface bridge port set [find interface=[/interface ethernet get $i name]] comment=""} else={/interface bridge port add bridge=bridge interface=[/interface ethernet get $i name]}}}}; 
#This script generat from www.minitik.net
